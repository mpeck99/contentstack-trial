{"version":3,"sources":["../../../src/utils/index.ts"],"sourcesContent":["import { PublicLogger } from \"../logger/logger\";\nimport { addLivePreviewQueryTags } from \"./addLivePreviewQueryTags\";\nexport function hasWindow(): boolean {\n    return typeof window !== \"undefined\";\n}\nexport { addLivePreviewQueryTags };\nexport function addParamsToUrl() {\n    // Setting the query params to all the click events related to current domain\n    window.addEventListener(\"click\", (event: any) => {\n        const target: any = event.target;\n        const targetHref: string | any = target.href;\n        const docOrigin: string = document.location.origin;\n        if (\n            targetHref &&\n            targetHref.includes(docOrigin) &&\n            !targetHref.includes(\"live_preview\")\n        ) {\n            const newUrl = addLivePreviewQueryTags(target.href);\n            event.target.href = newUrl || target.href;\n        }\n    });\n}\nexport function isOpeningInTimeline(): boolean {\n    if (hasWindow()) {\n        const urlParams = new URLSearchParams(window.location.search);\n        const previewTimestamp = urlParams.get(\"preview_timestamp\");\n        return !!previewTimestamp;\n    }\n    return false;\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,qCAAwC;AACjC,SAAS,YAAqB;AACjC,SAAO,OAAO,WAAW;AAC7B;AAEO,SAAS,iBAAiB;AAE7B,SAAO,iBAAiB,SAAS,CAAC,UAAe;AAC7C,UAAM,SAAc,MAAM;AAC1B,UAAM,aAA2B,OAAO;AACxC,UAAM,YAAoB,SAAS,SAAS;AAC5C,QACI,cACA,WAAW,SAAS,SAAS,KAC7B,CAAC,WAAW,SAAS,cAAc,GACrC;AACE,YAAM,aAAS,wDAAwB,OAAO,IAAI;AAClD,YAAM,OAAO,OAAO,UAAU,OAAO;AAAA,IACzC;AAAA,EACJ,CAAC;AACL;AACO,SAAS,sBAA+B;AAC3C,MAAI,UAAU,GAAG;AACb,UAAM,YAAY,IAAI,gBAAgB,OAAO,SAAS,MAAM;AAC5D,UAAM,mBAAmB,UAAU,IAAI,mBAAmB;AAC1D,WAAO,CAAC,CAAC;AAAA,EACb;AACA,SAAO;AACX;","names":[]}