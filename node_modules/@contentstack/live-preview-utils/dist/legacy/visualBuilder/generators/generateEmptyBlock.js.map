{"version":3,"sources":["../../../../src/visualBuilder/generators/generateEmptyBlock.tsx"],"sourcesContent":["import { hydrate } from \"preact\";\nimport { EmptyBlock } from \"../components/emptyBlock\";\nimport { extractDetailsFromCslp } from \"../../cslp\";\nimport { FieldSchemaMap } from \"../utils/fieldSchemaMap\";\n\nexport async function generateEmptyBlocks(\n    emptyBlockParents: Element[] | []\n): Promise<void> {\n    for (const emptyBlockParent of emptyBlockParents) {\n        const cslpData = emptyBlockParent.getAttribute(\"data-cslp\");\n        if (!cslpData) {\n            return;\n        }\n        const fieldMetadata = extractDetailsFromCslp(cslpData);\n\n        const fieldSchema = await FieldSchemaMap.getFieldSchema(\n            fieldMetadata.content_type_uid,\n            fieldMetadata.fieldPath\n        );\n        \n        if(!fieldSchema){\n            return;\n        }\n\n        hydrate(\n            <EmptyBlock\n                details={{\n                    fieldSchema,\n                    fieldMetadata,\n                }}\n            />,\n            emptyBlockParent\n        );\n    }\n}\n\nexport function removeEmptyBlocks(emptyBlockParents: Element[] | []): void {\n    emptyBlockParents?.forEach((emptyBlockParent) => {\n        const emptyBlock = emptyBlockParent.querySelector(\n            \".visual-builder__empty-block\"\n        );\n\n        if (emptyBlock) {\n            emptyBlock.remove();\n        }\n    });\n}\n"],"mappings":";;;AAAA,SAAS,eAAe;AACxB,SAAS,kBAAkB;AAC3B,SAAS,8BAA8B;AACvC,SAAS,sBAAsB;AAsBnB;AApBZ,eAAsB,oBAClB,mBACa;AACb,aAAW,oBAAoB,mBAAmB;AAC9C,UAAM,WAAW,iBAAiB,aAAa,WAAW;AAC1D,QAAI,CAAC,UAAU;AACX;AAAA,IACJ;AACA,UAAM,gBAAgB,uBAAuB,QAAQ;AAErD,UAAM,cAAc,MAAM,eAAe;AAAA,MACrC,cAAc;AAAA,MACd,cAAc;AAAA,IAClB;AAEA,QAAG,CAAC,aAAY;AACZ;AAAA,IACJ;AAEA;AAAA,MACI;AAAA,QAAC;AAAA;AAAA,UACG,SAAS;AAAA,YACL;AAAA,YACA;AAAA,UACJ;AAAA;AAAA,MACJ;AAAA,MACA;AAAA,IACJ;AAAA,EACJ;AACJ;AAEO,SAAS,kBAAkB,mBAAyC;AACvE,yDAAmB,QAAQ,CAAC,qBAAqB;AAC7C,UAAM,aAAa,iBAAiB;AAAA,MAChC;AAAA,IACJ;AAEA,QAAI,YAAY;AACZ,iBAAW,OAAO;AAAA,IACtB;AAAA,EACJ;AACJ;","names":[]}