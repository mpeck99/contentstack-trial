{"version":3,"sources":["../../../../src/visualBuilder/components/addInstanceButton.tsx"],"sourcesContent":["import React from \"preact/compat\";\nimport classNames from \"classnames\";\nimport { visualBuilderStyles } from \"../visualBuilder.style\";\nimport { PlusIcon } from \"./icons\";\nimport { ISchemaFieldMap } from \"../utils/types/index.types\";\n\ninterface AddInstanceButtonProps {\n    value: any;\n    onClick: (event: MouseEvent) => void;\n    label?: string | undefined;\n    fieldSchema: ISchemaFieldMap | undefined;\n}\n\nfunction AddInstanceButtonComponent(\n    props: AddInstanceButtonProps\n): JSX.Element {\n    const fieldSchema = props.fieldSchema;\n    const disabled =\n        fieldSchema && \"max_instance\" in fieldSchema && fieldSchema.max_instance\n            ? props.value.length >= fieldSchema.max_instance\n            : false;\n\n    return (\n        <button\n            className={classNames(\n                \"visual-builder__add-button\",\n                visualBuilderStyles()[\"visual-builder__add-button\"],\n                {\n                    \"visual-builder__add-button--with-label\": props.label,\n                },\n                visualBuilderStyles()[\"visual-builder__tooltip\"]\n            )}\n            data-tooltip={\"Add section\"}\n            data-testid=\"visual-builder-add-instance-button\"\n            disabled={disabled}\n            title={\n                disabled && fieldSchema && \"max_instance\" in fieldSchema\n                    ? `Max ${fieldSchema.max_instance} instances allowed`\n                    : undefined\n            }\n            onClick={(e) => {\n                const event = e as unknown as MouseEvent;\n                props.onClick(event);\n            }}\n        >\n            <PlusIcon />\n            {props.label ? (\n                <span\n                    title={props.label}\n                    className={classNames(\n                        \"visual-builder__add-button-label\",\n                        visualBuilderStyles()[\n                            \"visual-builder__add-button-label\"\n                        ]\n                    )}\n                >\n                    {props.label}\n                </span>\n            ) : null}\n        </button>\n    );\n}\n\nexport default AddInstanceButtonComponent;\n"],"mappings":";;;AACA,OAAO,gBAAgB;AACvB,SAAS,2BAA2B;AACpC,SAAS,gBAAgB;AAoBjB,SAsBI,KAtBJ;AAVR,SAAS,2BACL,OACW;AACX,QAAM,cAAc,MAAM;AAC1B,QAAM,WACF,eAAe,kBAAkB,eAAe,YAAY,eACtD,MAAM,MAAM,UAAU,YAAY,eAClC;AAEV,SACI;AAAA,IAAC;AAAA;AAAA,MACG,WAAW;AAAA,QACP;AAAA,QACA,oBAAoB,EAAE,4BAA4B;AAAA,QAClD;AAAA,UACI,0CAA0C,MAAM;AAAA,QACpD;AAAA,QACA,oBAAoB,EAAE,yBAAyB;AAAA,MACnD;AAAA,MACA,gBAAc;AAAA,MACd,eAAY;AAAA,MACZ;AAAA,MACA,OACI,YAAY,eAAe,kBAAkB,cACvC,OAAO,YAAY,YAAY,uBAC/B;AAAA,MAEV,SAAS,CAAC,MAAM;AACZ,cAAM,QAAQ;AACd,cAAM,QAAQ,KAAK;AAAA,MACvB;AAAA,MAEA;AAAA,4BAAC,YAAS;AAAA,QACT,MAAM,QACH;AAAA,UAAC;AAAA;AAAA,YACG,OAAO,MAAM;AAAA,YACb,WAAW;AAAA,cACP;AAAA,cACA,oBAAoB,EAChB,kCACJ;AAAA,YACJ;AAAA,YAEC,gBAAM;AAAA;AAAA,QACX,IACA;AAAA;AAAA;AAAA,EACR;AAER;AAEA,IAAO,4BAAQ;","names":[]}