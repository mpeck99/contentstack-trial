{"version":3,"sources":["../../../../src/visualBuilder/eventManager/useDraftFieldsPostMessageEvent.ts"],"sourcesContent":["import { visualBuilderStyles } from \"../visualBuilder.style\";\nimport visualBuilderPostMessage from \"../utils/visualBuilderPostMessage\";\nimport { VisualBuilderPostMessageEvents } from \"../utils/types/postMessage.types\";\n\ninterface DraftFieldsEvent {\n    data: {\n        fields: string[];\n    };\n}\n\nfunction removeDraftFieldClass(): void {\n    const draftFieldElements = document.querySelectorAll(\n        `.${visualBuilderStyles()[\"visual-builder__draft-field\"]}`\n    );\n    draftFieldElements.forEach((element) => {\n        element.classList.remove(\n            visualBuilderStyles()[\"visual-builder__draft-field\"]\n        );\n    });\n}\n\nfunction addDraftFieldClass(fields: string[]): void {\n    fields.forEach((field: string) => {\n        const element = document.querySelector(`[data-cslp=\"${field}\"]`);\n        if (element) {\n            element.classList.add(\n                visualBuilderStyles()[\"visual-builder__draft-field\"]\n            );\n        }\n    });\n}\n\nexport function useDraftFieldsPostMessageEvent(): void {\n    visualBuilderPostMessage?.on(\n        VisualBuilderPostMessageEvents.SHOW_DRAFT_FIELDS,\n        (event: DraftFieldsEvent) => {\n            removeDraftFieldClass();\n            addDraftFieldClass(event.data.fields);\n        }\n    );\n\n    visualBuilderPostMessage?.on(\n        VisualBuilderPostMessageEvents.REMOVE_DRAFT_FIELDS,\n        () => {\n            removeDraftFieldClass();\n        }\n    );\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAoC;AACpC,sCAAqC;AACrC,yBAA+C;AAQ/C,SAAS,wBAA8B;AACnC,QAAM,qBAAqB,SAAS;AAAA,IAChC,QAAI,0CAAoB,EAAE,6BAA6B,CAAC;AAAA,EAC5D;AACA,qBAAmB,QAAQ,CAAC,YAAY;AACpC,YAAQ,UAAU;AAAA,UACd,0CAAoB,EAAE,6BAA6B;AAAA,IACvD;AAAA,EACJ,CAAC;AACL;AAEA,SAAS,mBAAmB,QAAwB;AAChD,SAAO,QAAQ,CAAC,UAAkB;AAC9B,UAAM,UAAU,SAAS,cAAc,eAAe,KAAK,IAAI;AAC/D,QAAI,SAAS;AACT,cAAQ,UAAU;AAAA,YACd,0CAAoB,EAAE,6BAA6B;AAAA,MACvD;AAAA,IACJ;AAAA,EACJ,CAAC;AACL;AAEO,SAAS,iCAAuC;AACnD,kCAAAA,SAA0B;AAAA,IACtB,kDAA+B;AAAA,IAC/B,CAAC,UAA4B;AACzB,4BAAsB;AACtB,yBAAmB,MAAM,KAAK,MAAM;AAAA,IACxC;AAAA,EACJ;AAEA,kCAAAA,SAA0B;AAAA,IACtB,kDAA+B;AAAA,IAC/B,MAAM;AACF,4BAAsB;AAAA,IAC1B;AAAA,EACJ;AACJ;","names":["visualBuilderPostMessage"]}