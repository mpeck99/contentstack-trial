{"version":3,"sources":["../../../../src/visualBuilder/utils/instanceHandlers.ts"],"sourcesContent":["import visualBuilderPostMessage from \"./visualBuilderPostMessage\";\nimport { VisualBuilderPostMessageEvents } from \"./../utils/types/postMessage.types\";\nimport { CslpData } from \"../../cslp/types/cslp.types\";\n\nexport function handleDeleteInstance(fieldMetadata: CslpData): void {\n    visualBuilderPostMessage\n        ?.send(VisualBuilderPostMessageEvents.DELETE_INSTANCE, {\n            data:\n                fieldMetadata.fieldPathWithIndex +\n                \".\" +\n                fieldMetadata.multipleFieldMetadata.index,\n            fieldMetadata: fieldMetadata,\n        })\n        .finally(closeOverlay);\n}\n\nexport function handleMoveInstance(\n    fieldMetadata: CslpData,\n    direction: \"previous\" | \"next\"\n): void {\n    //TODO: Disable first and last instance move\n    visualBuilderPostMessage\n        ?.send(VisualBuilderPostMessageEvents.MOVE_INSTANCE, {\n            data:\n                fieldMetadata.fieldPathWithIndex +\n                \".\" +\n                fieldMetadata.multipleFieldMetadata.index,\n            direction: direction,\n            fieldMetadata: fieldMetadata,\n        })\n        .finally(closeOverlay);\n}\n\nfunction closeOverlay(): void {\n    document\n        .querySelector<HTMLDivElement>(\".visual-builder__overlay--top\")\n        ?.click();\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCAAqC;AACrC,yBAA+C;AAGxC,SAAS,qBAAqB,eAA+B;AAChE,kCAAAA,SACM,KAAK,kDAA+B,iBAAiB;AAAA,IACnD,MACI,cAAc,qBACd,MACA,cAAc,sBAAsB;AAAA,IACxC;AAAA,EACJ,CAAC,EACA,QAAQ,YAAY;AAC7B;AAEO,SAAS,mBACZ,eACA,WACI;AAEJ,kCAAAA,SACM,KAAK,kDAA+B,eAAe;AAAA,IACjD,MACI,cAAc,qBACd,MACA,cAAc,sBAAsB;AAAA,IACxC;AAAA,IACA;AAAA,EACJ,CAAC,EACA,QAAQ,YAAY;AAC7B;AAEA,SAAS,eAAqB;AAC1B,WACK,cAA8B,+BAA+B,GAC5D,MAAM;AAChB;","names":["visualBuilderPostMessage"]}